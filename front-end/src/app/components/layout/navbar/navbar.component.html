<div class="grid grid-cols-[1fr_2fr_2fr] sm:grid-cols-3 items-center p-3 h-16 fixed bg-white
    left-1/2 transform -translate-x-1/2 w-full max-w-7xl z-[99] border-b-2">
    <!-- Hamburger Icon -->

    <button class="relative z-[100] h-8 w-8 flex justify-center items-center"  (click)="toggleMenu($event)">
        <svg aria-hidden="true" [attr.class]="'h-3.5 w-3.5 overflow-visible stroke-black'" fill="none" [attr.stroke-width]="2"
        >
          <path
            d="M0 1H14M0 7H14M0 13H14"
            [ngClass]="{
              'origin-center transition': true,
              'scale-90 opacity-0': isMenuOpen
            }"
          />
          <path
            d="M2 2L12 12M12 2L2 12"
            [ngClass]="{
              'origin-center transition': true,
              'scale-90 opacity-0': !isMenuOpen
            }"
          />
        </svg>
    </button>

    <nav [ngClass]="{'hidden': !isMenuOpen}" (click)="toggleMenu($event)"
        class="w-full top-full h-screen max-w-7xl duration-300  transform left-1/2 -translate-x-1/2
        fixed inset-0 bg-gray-900 bg-opacity-70 backdrop-blur-sm transition-opacity" aria-hidden="true">
        <div [ngClass]="{ 'translate-y-0 opacity-100': isMenuOpen, '-translate-y-full opacity-0': !isMenuOpen }"
             class="absolute bg-white w-full desktop:w-1/3 py-5 transform transition-transform duration-300 ease-in-out left-0 shadow-lg">
            <ul class="space-y-2 pb-10">
                <li class="h-fit">
                    <a class="block cursor-pointer py-4 pl-4 w-full text-black hover:bg-zinc-200 focus:bg-zinc-200 transition-colors duration-200 ease-in-out border-b-2 border-slate-500/10"
                       routerLink="/"
                       routerLinkActive="active"
                       [routerLinkActiveOptions]="{ exact: true }"
                       ariaCurrentWhenActive="page"
                       (click)="toggleMenu($event)"
                    >Home</a>

                </li>
                <li class="h-fit" *ngIf="user.isAuthenticated">
                    <a class="block cursor-pointer py-4 pl-4 w-full text-black hover:bg-zinc-200 focus:bg-zinc-200 transition-colors duration-200 ease-in-out border-b-2 border-slate-500/10"
                       routerLink="/profile"
                       routerLinkActive="active"
                       [routerLinkActiveOptions]="{ exact: true }"
                       ariaCurrentWhenActive="page"
                       (click)="toggleMenu($event)"
                    >Profile</a>

                </li>
                <li class="h-fit">
                    <a class="block cursor-pointer py-4 pl-4 w-full text-black hover:bg-zinc-200 focus:bg-zinc-200 transition-colors duration-200 ease-in-out border-b-2 border-slate-500/10"
                       routerLink="/products"
                       routerLinkActive="active"
                       ariaCurrentWhenActive="page"
                       (click)="toggleMenu($event)"
                    >Products</a>
                </li>
                <li *ngIf="user.role === 'SELLER'" class="h-fit">
                    <a class="block cursor-pointer py-4 pl-4 w-full text-black hover:bg-zinc-200 focus:bg-zinc-200 transition-colors duration-200 ease-in-out border-b-2 border-slate-500/10"
                       routerLink="/dashboard"
                       routerLinkActive="active"
                       ariaCurrentWhenActive="page"
                       (click)="toggleMenu($event)"
                    >Dashboard</a>
                </li>
                <li *ngIf="user.role === 'SELLER'" class="h-fit">
                    <a class="block cursor-pointer py-4 pl-4 w-full text-black hover:bg-zinc-200 focus:bg-zinc-200 transition-colors duration-200 ease-in-out border-b-2 border-slate-500/10"
                       routerLink="/media-management"
                       routerLinkActive="active"
                       ariaCurrentWhenActive="page"
                       (click)="toggleMenu($event)"
                    >Media Management</a>
                </li>
                <li class="h-fit py-7 tablet:hidden">
                    <a routerLink="/" routerLinkActive="active" ariaCurrentWhenActive="page" class="card justify-content-center px-4">
                        <i class="pi pi-shopping-cart text-xl" pBadge [value]="cartCount"></i>
                    </a>
                </li>

                <li *ngIf="user.isAuthenticated" class="h-fit">
                    <button class="block cursor-pointer py-4 pl-4 w-full text-left text-black hover:bg-zinc-200 focus:bg-zinc-200 transition-colors duration-200 ease-in-out border-b-2 border-slate-500/10"
                            (click)="logOut($event)"
                    >Log Out</button>
                </li>
            </ul>
        </div>
    </nav>


    <div class="h-3 tablet:h-4">
        <a routerLink="/"
           routerLinkActive="active"
           ariaCurrentWhenActive="page"
        >
          <svg style="width:100%;height:100%">
            <use href="#svg11550712561">
                <svg viewBox="0 0 166 17" id="svg11550712561" >
                    <path d="M 141.507 16.977 C 139.944 16.977 138.527 16.617 137.256 15.898 C 135.999 15.163 135.006 14.155 134.276 12.873 C 133.56 11.576 133.202 10.114 133.202 8.488 C 133.202 6.863 133.56 5.409 134.276 4.127 C 135.006 2.829 135.999 1.821 137.256 1.102 C 138.527 0.367 139.951 0 141.529 0 C 142.859 0 144.057 0.25 145.123 0.75 C 146.204 1.251 147.11 1.97 147.84 2.908 L 145.561 5.159 C 144.524 3.877 143.238 3.236 141.704 3.236 C 140.755 3.236 139.907 3.463 139.162 3.916 C 138.417 4.354 137.833 4.971 137.409 5.768 C 137 6.566 136.796 7.472 136.796 8.488 C 136.796 9.504 137 10.411 137.409 11.208 C 137.833 12.006 138.417 12.631 139.162 13.084 C 139.907 13.522 140.755 13.741 141.704 13.741 C 143.238 13.741 144.524 13.092 145.561 11.794 L 147.84 14.046 C 147.11 14.999 146.204 15.726 145.123 16.226 C 144.042 16.726 142.837 16.977 141.507 16.977 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 126.649 16.695 L 123.691 12.123 L 123.516 12.123 L 120.426 12.123 L 120.426 16.695 L 116.876 16.695 L 116.876 0.282 L 123.516 0.282 C 124.874 0.282 126.05 0.524 127.044 1.009 C 128.052 1.493 128.826 2.181 129.367 3.072 C 129.907 3.963 130.178 5.018 130.178 6.238 C 130.178 7.457 129.9 8.512 129.345 9.403 C 128.804 10.278 128.03 10.951 127.022 11.42 L 130.462 16.695 Z M 126.584 6.238 C 126.584 5.315 126.306 4.612 125.751 4.127 C 125.196 3.627 124.385 3.377 123.318 3.377 L 120.426 3.377 L 120.426 9.098 L 123.318 9.098 C 124.385 9.098 125.196 8.848 125.751 8.348 C 126.306 7.848 126.584 7.144 126.584 6.238 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 90.462 16.695 L 90.44 6.847 L 85.926 14.96 L 84.326 14.96 L 79.833 7.058 L 79.833 16.695 L 76.502 16.695 L 76.502 0.282 L 79.439 0.282 L 85.18 10.482 L 90.834 0.282 L 93.749 0.282 L 93.793 16.695 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 69.884 16.695 L 69.862 6.847 L 65.348 14.96 L 63.748 14.96 L 59.256 7.058 L 59.256 16.695 L 55.925 16.695 L 55.925 0.282 L 58.862 0.282 L 64.603 10.482 L 70.257 0.282 L 73.171 0.282 L 73.215 16.695 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 44.245 16.977 C 42.652 16.977 41.213 16.609 39.928 15.874 C 38.657 15.14 37.656 14.131 36.925 12.85 C 36.21 11.552 35.852 10.098 35.852 8.488 C 35.852 6.878 36.21 5.432 36.925 4.15 C 37.656 2.853 38.657 1.837 39.928 1.102 C 41.213 0.367 42.652 0 44.245 0 C 45.837 0 47.269 0.367 48.54 1.102 C 49.811 1.837 50.812 2.853 51.542 4.15 C 52.273 5.432 52.638 6.878 52.638 8.488 C 52.638 10.098 52.273 11.552 51.542 12.85 C 50.812 14.131 49.811 15.14 48.54 15.874 C 47.269 16.609 45.837 16.977 44.245 16.977 Z M 44.245 13.741 C 45.151 13.741 45.969 13.522 46.699 13.084 C 47.43 12.631 47.999 12.006 48.408 11.208 C 48.832 10.411 49.044 9.504 49.044 8.488 C 49.044 7.472 48.832 6.566 48.408 5.768 C 47.999 4.971 47.43 4.354 46.699 3.916 C 45.969 3.463 45.151 3.236 44.245 3.236 C 43.339 3.236 42.521 3.463 41.79 3.916 C 41.06 4.354 40.483 4.971 40.059 5.768 C 39.65 6.566 39.446 7.472 39.446 8.488 C 39.446 9.504 39.65 10.411 40.059 11.208 C 40.483 12.006 41.06 12.631 41.79 13.084 C 42.521 13.522 43.339 13.741 44.245 13.741 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 26.231 16.977 C 24.668 16.977 23.251 16.617 21.98 15.898 C 20.724 15.163 19.73 14.155 19 12.873 C 18.284 11.576 17.926 10.114 17.926 8.488 C 17.926 6.863 18.284 5.409 19 4.127 C 19.73 2.829 20.724 1.821 21.98 1.102 C 23.251 0.367 24.675 0 26.253 0 C 27.583 0 28.781 0.25 29.847 0.75 C 30.928 1.251 31.834 1.97 32.564 2.908 L 30.285 5.159 C 29.248 3.877 27.963 3.236 26.429 3.236 C 25.479 3.236 24.632 3.463 23.886 3.916 C 23.141 4.354 22.557 4.971 22.133 5.768 C 21.724 6.566 21.52 7.472 21.52 8.488 C 21.52 9.504 21.724 10.411 22.133 11.208 C 22.557 12.006 23.141 12.631 23.886 13.084 C 24.632 13.522 25.479 13.741 26.429 13.741 C 27.963 13.741 29.248 13.092 30.285 11.794 L 32.564 14.046 C 31.834 14.999 30.928 15.726 29.847 16.226 C 28.766 16.726 27.561 16.977 26.231 16.977 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path><path d="M 8.305 16.977 C 6.742 16.977 5.325 16.617 4.054 15.898 C 2.798 15.163 1.804 14.155 1.074 12.873 C 0.358 11.576 0 10.114 0 8.488 C 0 6.863 0.358 5.409 1.074 4.127 C 1.804 2.829 2.798 1.821 4.054 1.102 C 5.325 0.367 6.75 0 8.327 0 C 9.657 0 10.855 0.25 11.921 0.75 C 13.002 1.251 13.908 1.97 14.639 2.908 L 12.36 5.159 C 11.322 3.877 10.037 3.236 8.503 3.236 C 7.553 3.236 6.706 3.463 5.961 3.916 C 5.216 4.354 4.631 4.971 4.208 5.768 C 3.798 6.566 3.594 7.472 3.594 8.488 C 3.594 9.504 3.798 10.411 4.208 11.208 C 4.631 12.006 5.216 12.631 5.961 13.084 C 6.706 13.522 7.553 13.741 8.503 13.741 C 10.037 13.741 11.322 13.092 12.36 11.794 L 14.639 14.046 C 13.908 14.999 13.002 15.726 11.921 16.226 C 10.84 16.726 9.635 16.977 8.305 16.977 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path><path d="M 152.851 166.678 L 152.851 163.552 L 166 163.552 L 166 166.678 Z" fill="rgb(0,0,0)"></path><path d="M 152.851 17 L 152.851 13.874 L 166 13.874 L 166 17 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 152.851 9.966 L 152.851 6.839 L 163.443 6.839 L 163.443 9.966 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path><path d="M 98.796 3.322 L 98.796 0.195 L 111.945 0.195 L 111.945 3.322 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path><path d="M 98.796 16.609 L 98.796 13.483 L 111.945 13.483 L 111.945 16.609 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path><path d="M 98.796 9.966 L 98.796 6.839 L 109.388 6.839 L 109.388 9.966 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                    <path d="M 152.61 3.322 L 152.61 0.195 L 165.758 0.195 L 165.758 3.322 Z" fill="var(--token-ad4d2a8b-0add-4634-8710-f4704da278ff, rgb(0, 0, 0)) /* {&quot;name&quot;:&quot;White&quot;} */"></path>
                </svg>
            </use>
          </svg>
        </a>
    </div>

    <div *ngIf="!isAuthPage" class="flex justify-center items-center justify-self-end gap-5">
        <div  *ngIf="user.isAuthenticated && user.role === 'CLIENT'">
            <app-cart/>
        </div>

      <div *ngIf="user.isAuthenticated" class="flex justify-center items-center">
        <span class=" hidden desktop:block font-bold mr-2">Hi, {{user.name}}</span>
        <p-avatar *ngIf="!user.avatar"
          icon="pi pi-user"
          styleClass="mr-2"
          [style]="{ 'background-color': '#ece9fc', color: '#2a1261' }"
          shape="circle" />
        <p-avatar *ngIf="user.avatar"
          image="{{environment.apiUrl}}user/avatar/{{user.avatar}}"
          styleClass="mr-2"
          [style]="{ 'background-color': '#ece9fc', color: '#2a1261' }"
          shape="circle" />
      </div>

      <button *ngIf="!user.isAuthenticated" class="bg-blue-500 px-3 tablet:px-5 py-2 text-white rounded-sm">
          <a class=""
             routerLink="/auth/sign-in"
             routerLinkActive="active"
             ariaCurrentWhenActive="page"
          >Sign In</a>
      </button>
    </div>
</div>

